---
layout: post
title: 插入排序，C语言数组
category: 算法
tags: 算法 Algorithm 插入排序 inssert sort，array
---

插入算法传说是从打牌时，给牌排序得到的灵感。实际上其排序方法也和拿牌时给手里的牌排序，一模一样。
'|1|2|3|'这是一个有序数列，然后要放进一个元素0，然就从右至左找到其第一个小于0的元素，然后放到这  
个元素的后面，没有的话就直接放到最前面了，它就最小了对不对。这就是插入排序的思想，看起来非常简单。  
然后将它运用到一般的数组排序。比如对'|3|2|4|6|9|0|1|5|'排序。先构造最小的有序数列:'|3|'，然后再  
将'|3|'后面的元素'|2|'插入其中，构成有序数列'|2|3|',如此循环，至所有元素都进入有序数列之中。  

然后根据这个过程，用c来实现它:

	//小--大 
	void InsertSort(int *a,int arrayLength)
	{
		int i=0,j=0;
		for(i=1;i<arrayLength;i++)//从a[1]开始向最小的有序数列|a[0]|插入
		{
			int temp=a[i];//保存要插入的数据，并空出这个元素的位置，便于数据移动
			for(j=i-1;j>=0;j--)//找到第一个小于temp的元素，并将大于它的后移
			{
				if(temp<a[j])
				{
					a[j+1]=a[j];//后移
				}
				else
				{
					break;
				}
			}
			a[j+1]=temp;//将temp插入合适的位置
		}
	}
	
上面的代码可以再精简一下

	void insertsort(int *a,int n)
	{
		for(int i=1; i<n; ++i)
		{
			int temp = a[i];
			int j = i-1;
			for(; j>=0 && temp<arr[j] ; --j)
			{	
				a[j+1] = a[j];	
			}
			a[j+1] = temp;
		}	
	}

可以看出，插入排序最慢的操作在于数据的后移。上面的例子，就需要将|1|2|3|整体后移。还有一个弱点就是处理|5|2|3|4|1|，这类数组时效率很低。
这就是直接插入排序的弱点。希尔排序就针对这一点做出了改进。

